World Optimizer (VRChat向けワールド最適化ツール)

VRChatワールドの最適化を自動化・支援するUnityエディタ拡張ツールです。
ワンクリックでテクスチャ、オーディオ、マテリアル設定などをVRChat推奨の設定に変更し、ワールドの容量削減と負荷軽減を行います。

--------------------------------------------------

■ 使い方

1. Unityエディタの上部メニューから「WorldOptimizer」>「Open Optimizer」を開きます。
2. 「基本設定」タブで「最適化プロファイル」を選択します。
   ・Standard (軽量化優先): テクスチャサイズ2048px、高圧縮
   ・HighQuality (クオリティ優先): テクスチャサイズ4096px、中圧縮
3. 必要に応じて「基本最適化設定」の各項目をチェックします。
4. 「一括最適化を実行 (Run All)」ボタンをクリックすると、すべての最適化が順番に適用されます。

※ 実行前にシーンのバックアップが自動的に行われますが、念のためプロジェクト全体のバックアップを推奨します。

--------------------------------------------------

■ 主要機能と詳細

【基本最適化機能】

・Missing Scriptの削除
   シーン内のオブジェクトに付いている「スクリプトが見つからないコンポーネント」を自動的に削除します。

・GPU Instancingの有効化
   同じマテリアルを使用するオブジェクトをまとめて描画し、CPU負荷（DrawCall）を削減します。

・テクスチャ圧縮の最適化
   テクスチャの「Max Size（最大解像度）」や「Streaming Mipmaps」の設定を自動調整します。
   「Crunch圧縮」を有効にすることで、ディスク容量とダウンロード時間を大幅に削減します。

・オーディオ設定の最適化
   オーディオクリップを「Force To Mono」設定にし、圧縮形式を「Vorbis」に変換してメモリ使用量を抑えます。

・Staticフラグの自動設定
   動かないオブジェクト（Rigidbodyを持たないオブジェクト）に対して、Batching StaticやOccluder Staticなどの適切なフラグを自動設定します。


【詳細設定 (Advanced)】

・ファイルバックアップ (Create File Backup)
   テクスチャやオーディオの変更前に、元のファイルを「Assets/WorldOptimizer/Backups」にコピーします。

・メッシュ結合 (Mesh Combiner)
   選択したオブジェクト（親子関係含む）をマテリアルごとに1つのメッシュに結合します。
   Hierarchyが整理され、描画負荷が軽減されます。

・LOD設定 (Level Of Detail)
   「LOD Bias」を調整して、遠くのオブジェクトの表示品質を制御します。数値を下げると軽量化されます。

・強力な圧縮 (Crunch Compression)
   通常の圧縮よりもさらにファイルサイズを小さくするCrunch圧縮を強制的に適用します。
   画質への影響があるため、重要なテクスチャがある場合は確認しながら使用してください。

・ダウンロードサイズ削減 (Download Size)
   テクスチャ解像度を一律1024px以下に制限し、オーディオ品質を下げることで、ワールドのデータ容量を極限まで小さくします。
   イベント会場など、ロード時間を短縮したい場合に有効です。

・オクルージョンカリング (Occlusion Culling)
   壁の裏側など、見えない場所にあるオブジェクトを描画しないように設定するためのデータを生成（Bake）します。

・裏面カリングの強制 (Backface Culling)
   マテリアルの設定を「片面描画」に統一し、描画負荷を少しでも減らします。

・ライティング最適化
   ライトマップの解像度やバウンス数を、VRChat向けに推奨される設定値に変更します。
   また、シーン内のすべてのライトを「Baked」に変更する機能もあります。

・メッシュ分析
   シーン内でポリゴン数が多いオブジェクトを検出し、ランキング表示します。重いオブジェクトの特定に役立ちます。

--------------------------------------------------

■ トラブルシューティング

・最適化を元に戻したい
   「基本設定」タブにある「最適化を元に戻す (Revert to Original)」ボタンを押すと、バックアップデータを使用して最適化前の状態に戻すことができます。

・エラーが発生した場合
   「ヘルプ」タブの「エラーログファイルを開く」からログを確認できます。

--------------------------------------------------

■ インストール方法

本フォルダ (WorldOptimizer) をUnityプロジェクトの Assets フォルダ内に配置してください。

■ 動作環境

Unity 2019.4 以降 (VRChat SDK導入プロジェクト)
